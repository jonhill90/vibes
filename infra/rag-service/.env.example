# RAG Service - Environment Configuration
# Copy this file to .env and update values for your environment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL database name
POSTGRES_DB=ragservice

# PostgreSQL username
POSTGRES_USER=raguser

# PostgreSQL password
# SECURITY: Change this in production!
POSTGRES_PASSWORD=ragpass123

# Database connection string for backend
# Format: postgresql+asyncpg://user:password@host:port/database
# Use 'db' as hostname when running in Docker Compose (service name)
# Use 'localhost' when running backend locally
DATABASE_URL=postgresql+asyncpg://raguser:ragpass123@db:5432/ragservice

# Database port (exposed to host)
DB_PORT=5433

# =============================================================================
# BACKEND CONFIGURATION
# =============================================================================

# FastAPI server port
API_PORT=8001

# MCP server port
MCP_PORT=8052

# CORS allowed origins (comma-separated)
# Add all frontend URLs that need access to the API
CORS_ORIGINS=http://localhost:5173,http://localhost:5174

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# =============================================================================
# EMBEDDING SERVICE CONFIGURATION
# =============================================================================

# Embedding model to use
EMBEDDING_MODEL=text-embedding-3-small

# OpenAI API key for embeddings
OPENAI_API_KEY=your-openai-api-key-here

# Embedding dimensions (1536 for text-embedding-3-small)
EMBEDDING_DIMENSIONS=1536

# Batch size for embedding generation
EMBEDDING_BATCH_SIZE=100

# =============================================================================
# VECTOR SEARCH CONFIGURATION
# =============================================================================

# Vector similarity threshold (0.0 to 1.0)
SIMILARITY_THRESHOLD=0.7

# Maximum number of search results
MAX_SEARCH_RESULTS=10

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# Frontend development server port
FRONTEND_PORT=5173

# Backend API URL for frontend
# Use http://localhost:8001 for local development
# Use http://backend:8001 for Docker Compose internal networking
VITE_API_URL=http://localhost:8001

# =============================================================================
# GENERAL CONFIGURATION
# =============================================================================

# Environment mode (development, staging, production)
ENVIRONMENT=development

# =============================================================================
# USAGE NOTES
# =============================================================================
#
# 1. Copy this file:
#    cp .env.example .env
#
# 2. Add your OpenAI API key in .env
#
# 3. Update other values in .env for your environment
#
# 4. Start services:
#    docker-compose up -d
#
# 5. View logs:
#    docker-compose logs -f
#
# 6. Stop services:
#    docker-compose down
#
# 7. Reset database (WARNING: deletes all data):
#    docker-compose down -v
#    docker-compose up -d
#
# =============================================================================
# PRODUCTION DEPLOYMENT
# =============================================================================
#
# For production deployments, ensure:
# - Use strong, unique POSTGRES_PASSWORD
# - Set ENVIRONMENT=production
# - Update CORS_ORIGINS to production frontend URL only
# - Use HTTPS URLs for VITE_API_URL
# - Set LOG_LEVEL=WARNING or ERROR
# - Secure OPENAI_API_KEY using secrets management
# - Configure database backups for ragservice-db-data volume
#
